(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{24:function(e,t,c){},32:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),s=c(18),a=c.n(s),i=(c(24),c(2)),o=c(9),j=c.n(o),u=c(12),b=c(10),l=c(1),d=r.a.createContext(),h=function(e){var t=e.children,c=Object(n.useState)(!0),r=Object(b.a)(c,2),s=r[0],a=r[1],i=Object(n.useState)("superman"),o=Object(b.a)(i,2),h=o[0],O=o[1],p=Object(n.useState)([]),x=Object(b.a)(p,2),f=x[0],m=x[1],v=function(){var e=Object(u.a)(j.a.mark((function e(){var t,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.prev=1,e.next=4,fetch("https://www.omdbapi.com/?apikey=a931948e&s=".concat(h));case 4:return t=e.sent,e.next=7,t.json();case 7:"True"===(c=e.sent).Response&&m(c),a(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){v()}),[h]),Object(l.jsx)(d.Provider,{value:{isLoading:s,setIsLoading:a,data:f,query:h,setQuery:O},children:t})},O=function(){return Object(n.useContext)(d)},p=function(){var e=O(),t=e.query,c=e.setQuery,n=e.data;return Object(l.jsxs)("form",{className:"searchForm",onSubmit:function(e){return e.preventDefault()},children:[Object(l.jsx)("h2",{children:"Search Movies"}),Object(l.jsx)("input",{type:"text",value:t,onChange:function(e){return c(e.target.value)}}),!n.Response&&Object(l.jsx)("div",{className:"error",children:n.Error})]})},x=c(7),f=function(){var e=O(),t=e.isLoading,c=e.data.Search;return t?Object(l.jsx)("div",{className:"loading"}):Object(l.jsx)("section",{className:"movies",children:c.map((function(e){var t=e.imdbID,c=e.Poster,n=e.Title,r=e.Year;return Object(l.jsx)(x.b,{to:"/movies/".concat(t),className:"movie",children:Object(l.jsxs)("div",{children:[Object(l.jsx)("img",{src:"N/A"===c?"https://upload.wikimedia.org/wikipedia/commons/f/fc/No_picture_available.png":c,alt:n}),Object(l.jsxs)("div",{className:"info",children:[Object(l.jsx)("h4",{children:n}),Object(l.jsx)("p",{children:r})]})]})},t)}))})},m=function(){return Object(l.jsxs)("main",{children:[Object(l.jsx)(p,{}),Object(l.jsx)(f,{})]})},v=function(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),c=t[0],r=t[1],s=O(),a=s.isLoading,o=s.setIsLoading,d=Object(i.f)().id,h=function(){var e=Object(u.a)(j.a.mark((function e(){var t,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,fetch("https://www.omdbapi.com/?apikey=a931948e&i=".concat(d));case 4:return t=e.sent,e.next=7,t.json();case 7:c=e.sent,r(c),o(!1),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(1);case 14:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();if(Object(n.useEffect)((function(){h()}),[d]),a)return Object(l.jsx)("div",{className:"loading"});if("False"===c.Response)return Object(l.jsxs)("div",{className:"errorPage",children:[Object(l.jsx)("h1",{children:c.Error}),Object(l.jsx)(x.b,{to:"/",id:"btn",children:"back to movies"})]});var p=c.Poster,f=c.Title,m=c.Plot,v=c.Year,g=c.Director,w=c.Runtime;return Object(l.jsxs)("section",{className:"singleMovie",children:[Object(l.jsx)("img",{src:"N/A"===p?"https://upload.wikimedia.org/wikipedia/commons/f/fc/No_picture_available.png":p,alt:f}),Object(l.jsxs)("div",{className:"singleMovieInfo",children:[Object(l.jsx)("h1",{children:f}),Object(l.jsx)("h2",{children:v}),Object(l.jsx)("p",{children:m}),Object(l.jsxs)("h3",{children:["Directed by: ",g]}),Object(l.jsxs)("h3",{children:["Runtime: ",w]}),Object(l.jsx)(x.b,{to:"/",id:"btn",children:"Back to movies"})]})]})},g=function(){return Object(l.jsxs)(i.c,{children:[Object(l.jsx)(i.a,{path:"/",exact:!0,children:Object(l.jsx)(m,{})}),Object(l.jsx)(i.a,{path:"/movies/:id",children:Object(l.jsx)(v,{})})]})},w=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,33)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),s(e),a(e)}))};a.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(h,{children:Object(l.jsx)(x.a,{children:Object(l.jsx)(g,{})})})}),document.getElementById("root")),w()}},[[32,1,2]]]);
//# sourceMappingURL=main.74c80360.chunk.js.map